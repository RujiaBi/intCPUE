% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit.R
\name{intCPUE}
\alias{intCPUE}
\title{Fit an integrated spatiotemporal CPUE standardization model}
\usage{
intCPUE(
  formula,
  data_utm,
  mesh,
  vessel_effect = c("on", "off"),
  q_diffs_system = c("on", "off"),
  q_diffs_time = c("on", "off"),
  q_diffs_spatial = c("on", "off"),
  control = list(eval.max = 1e+05, iter.max = 1e+05),
  ncores = NULL,
  ...,
  silent = FALSE
)
}
\arguments{
\item{formula}{A model formula with optional mgcv::s() smooth terms.}

\item{data_utm}{A data.frame with required columns.}

\item{mesh}{An \code{intCPUEmesh} or a bare fmesher mesh.}

\item{vessel_effect}{"on" or "off". If "off", vessel RE is fixed at 0 via map.}

\item{q_diffs_system}{"on" or "off". If "off", flag systematic differences are fixed.}

\item{q_diffs_time}{"on" or "off". If "off", flag-specific temporal effects are fixed.}

\item{q_diffs_spatial}{"on" or "off". If "off", flag-specific spatial fields are fixed.}

\item{control}{Control list passed to \code{\link[stats:nlminb]{stats::nlminb()}}.}

\item{ncores}{Optional integer. If provided, sets the number of OpenMP threads. Passed to \code{\link[TMB:openmp]{TMB::openmp()}}.}

\item{...}{Passed to \code{\link[=make_data]{make_data()}} (e.g., utm_zone, coord_scale, area_scale).}

\item{silent}{Logical. Passed to \code{\link[TMB:MakeADFun]{TMB::MakeADFun()}}.}
}
\value{
An object of class \code{intCPUE} with elements \code{obj}, \code{opt}, \code{rep}, \code{prep}, etc.

An object of class \code{intCPUE} with elements \code{obj}, \code{opt}, \code{rep}, \code{prep}, etc.
}
\description{
Fits an integrated spatiotemporal model for CPUE standardization that jointly
models observation and sampling processes across one or more fisheries or surveys.
The framework is designed to reduce bias caused by preferential sampling,
targeting behavior, and heterogeneous effort distributions, and to estimate
a coherent latent abundance index.
}
\details{
The model is implemented using Template Model Builder (TMB). Spatial and
spatiotemporal random fields are represented using the SPDE (stochastic partial
differential equation) approach for computational efficiency. See the model
description vignette for details:
https://github.com/RujiaBi/intCPUE/blob/main/vignettes/intCPUE-intro.Rmd
}
\author{
Rujia Bi \email{rbi@iattc.org}
}
