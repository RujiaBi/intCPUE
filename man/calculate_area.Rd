% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculate_area.R
\name{calculate_area}
\alias{calculate_area}
\title{Calculate equal-area size (km^2) for each lon/lat grid cell}
\usage{
calculate_area(
  dxy,
  cellsize = "auto",
  lon_name = "X",
  lat_name = "Y",
  crs_equal_area = "+proj=eqearth +datum=WGS84",
  tol = 1e-06,
  check_grid = TRUE,
  check_n = 200,
  check_seed = NULL,
  quiet = TRUE
)
}
\arguments{
\item{dxy}{A data.frame containing lon/lat grid centers. By default, the first
two columns are treated as lon/lat if \code{lon_name}/\code{lat_name} are not found.
Must also contain \code{utm_x_scale} and \code{utm_y_scale} (used later by the model
key/extrapolation workflow).}

\item{cellsize}{Numeric length 1 (dx = dy) or length 2 (c(dx, dy)) in degrees,
or \code{"auto"}. If \code{"auto"}, the function attempts to infer (dx, dy) from the
spacing of unique lon/lat centers (using the most common spacing and a
robust fallback). \strong{This works best for regular grids. If your grid is
irregular or multi-resolution, supply \verb{cellsize=} explicitly.}}

\item{lon_name, lat_name}{Column names for lon/lat centers in \code{dxy}.}

\item{crs_equal_area}{A CRS string passed to \code{sf::st_transform()} for area
calculation. Default uses Equal Earth.}

\item{tol}{Tolerance (degrees) for distinguishing unique spacings and for
neighbor checks.}

\item{check_grid}{Logical; if TRUE (default), performs a lightweight sanity
check that inferred \code{cellsize} matches local neighbor spacing and warns if
inconsistent.}

\item{check_n}{Number of random rows used for the sanity check.}

\item{check_seed}{Optional seed for reproducible checking.}

\item{quiet}{Logical; if FALSE, message when a fallback inference method is used.}
}
\value{
A data.frame with columns \code{order}, \code{utm_x_scale}, \code{utm_y_scale},
and \code{area_km2} (aligned to the input row order).
}
\description{
Computes the area (km^2) of grid cells defined by lon/lat cell centers.
Cells are constructed as rectangles in lon/lat degrees with width/height
given by \code{cellsize}, then projected to an equal-area CRS to compute areas.
}
